[English](https://github.com/collinearen/share-this-project/blob/test_case/README.md)

# <p align="center">***О Моем проекте***</p>

> Всем привет, это мое приложение ShareIT. Немного о том, что это такое...
>
> ShareIT — фотохостинг с возможностью парсить изображения с сайтов и добавлять их в свой аккаунт,
>
> Так же можно  делиться, ставить лайки и писать описания к фотографиям.
>
> В этом проекте реализована система учетных записей с пользователем CRUD, система подписок, лайков и оценок по просмотрам.
>
>
> Суть заключается в том, что мы используем кнопку, содержащую JS-скрипт
> путем перетаскивания на закладки в браузере. Когда пользователь 
> нажимает на закладку, код JS будет выполнен на открытой веб-странице.
> Когда пользователь нажимает на нашу закладку при посещении другой веб-страницы,
> открывается скрипт, который анализирует всю html-страницу и ищет совпадения >с помощью селекторов ***.jpg", .jpeg, .png, .webp***
> показывает список всех найденных изображений, а при нажатии на любое изображение
> перенаправляет на наш веб-сайт, передавая в запросе на получение заголовок веб-сайта
> страница, с которой был запущен этот скрипт, само изображение и сайт
> адрес (который пользователь может оставить при желании, а так же есть возможность указать, приватной будет эта картинка или публичной)
>

## 
## <p align="center">***Это приложение реализует следующие технические проблемы ..***</p>
* Созданы все необходимые представления для ***регистрации***, ***входа*** и ***выхода***. Также была создана модель профилей пользователей и специальный механизм аутентификации, позволяющий войти в систему с использованием адреса электронной почты. Кроме того, реализована функция сброса пароля, работающая через SMTP-сервер (отправка электронных писем со ссылкой для сброса пароля с использованием уникальных идентификаторов, которые добавляются к адресу страницы сброса пароля)

* Социальная аутентификация, возможность использовать ваши существующие учетные записи (я взял <a href="https://docs.allauth.org/en/latest/socialaccount/providers/google.html">Google</a> для примера. Python Social Auth механизм и социальная аутентификация с использованием <a href="https://pypi.org/project/django-allauth/">OAuth 2.0</a> протокола авторизации.
* Функциональность самой закладки:
    * Пользователь перетаскивает ссылку с вашего сайта в панель закладок в своем браузере. Ссылка содержит исходный код JavaScript в атрибуте Href. Этот исходный код будет сохранен как закладка;
    * Пользователь переходит на любой сайт, нажимает на закладку в списке его закладок или панели избранного. Исходный код Javascript за закладки будет выполнен.
    * Получает основной контейнер закладки, получив элемент DOM с идентификатором Bookmarlet, используя
        ```javascript
        document.getElementById()
        ```
    * Элемент закладки используется для извлечения дочернего элемента с помощью изображений класса. Метод ***QuerySelector ()*** позволяет получить элементы DOM с использованием селекторов CSS. Селекторы предоставляют возможность найти элементы DOM, к которым применяется набор правил CSS.
    * Контейнер изображения дается пустой HTML, и закладка становится видимой на странице, когда свойство дисплея CSS установлено на блокировку.
    * Использует селектор #Close, чтобы найти элемент DOM с ID Close. Событие Click прикреплено к этому элементу с использованием метода ***addeventListener ()***. Когда пользователи нажимают на элемент, основной контейнер для закладок скрыт, и его свойство отображения не установлено.
    * После загрузки стилей Bookmarklet и HTML-кода вам необходимо найти изображения на текущей веб -странице. Если изображения меньше указанного размера, они добавляются в HTML Bookmarlet. Изменить статику <a href="https://github.com/collinearen/share-this-project/blob/test_case/share/images/static/js/bookmarklet.js">bookmarklet.js</a> file to add ***bookmarklet()*** до конца функции
    * Приведенный код ниже
        ```javascript
        images = document.querySelectorAll('img[src$=".jpg"], img[src$=".jpeg"], img[src$=".png"], img[src$=".webp"]');
        ```
    Селекторы используются для поиска всех элементов IMG, атрибут SRC, атрибут SRC заканчивается .jpg, .jpeg, .webp. PNG соответственно. Использование этих селекторов с ***document.queryselectorall ()*** Функция помогает найти все **jpeg** и **png** изображения на веб -сайте. ***foreach ()*** цикл затем итерации через результаты. Маленькие и чрезмерно большие изображения удаляются, потому что они не считаются подходящими. В результате, только те изображения, размеры которых превышают размеры, указанные в **Minwidt**, **minheight**, **maxwidth**, **maxheight** переменные. Ниже приведена реализация


        <img src="https://github.com/collinearen/share-this-project/blob/test_case/image-2.png" style="max-width: 500px; border-radius: 10px;">
        

* Отображение пользовательских изображений реализовано с использованием **thumbnails** - Маленькие изображения, представляющие большое изображение. Миниатюры быстро загружаются в браузере и являются хорошим способом отображения изображений в разных размерах. Для этого проекта <a href="https://pypi.org/project/easy-thumbnails/">easy-thumbnails</a> Использовалась библиотека (утилита, которая позволяет создавать миниатюры изображений. Она может обрабатывать изображения в партийном режиме, поддерживает все общие форматы изображений), которые были идеальными и позволяют нам создавать миниатюры. Пример
    <img src="https://github.com/collinearen/share-this-project/blob/test_case/image-3.png" style="max-width: 500px; border-radius: 10px;">

* В Django была расширенная стандартная пользовательская модель, расширенная с использованием модели профиля, в которую мы перенесли возможность загружать наши аватары, а также поле ***is_active***, которое отслеживало деятельность пользователя (если пользователь просто просто Создал учетную запись и не добавил одно изображение, тогда он считается неактивным, но если он добавляет изображение, то ***is_active*** = ***True***)
* Также была создана таблица изображений - который связан иностранным ключом с ** пользователем ** (** user_id ** фотография связана с **user.id** из ***User*** ) Есть поля ***image*** - Путь к этой фотографии (фотографии хранятся в папке мультимедиа), ***slug*** - Имя фотографии, сделанного с сайта (которое пользователь может быть удален При создании, также переведенном с английского и русского языка), существует поле ***total_likes*** - в котором записано количество лайков для данной фотографии, а также ***private*** поле - которое определяется на стадии создания фотографии (если пользователь считает, что это фотография для личного использования (как примечание для себя), то она будет видна только пользователю на его странице изображений и, следовательно, поле ***private*** = ***True***

* В этом приложении я работал с Redis, который я реализовал следующее: создал image.id в качестве ключа и написал total_views в качестве значения (то есть, когда пользователь посетил страницу с изображением, следующий код будет выполнен)
    ```python
    total_views = r.incr(f'image:{image.id}:views')
    ```
    as well as increasing the image rating by 1
    ```python
    r.zincrby('image_ranking', 1, image.id)
    ```


# <p align="center">Все технологии, библиотеки, которые я использовал в этом проекте</p>


![Static Badge](https://img.shields.io/badge/django-collinearen?logo=django&label=django&labelColor=rgb(34%2C%2076%2C%2011)&color=white)


![Static Badge](https://img.shields.io/badge/collinearen-css?style=css&logo=css3&logoColor=blue&label=css&color=white)

![Static Badge](https://img.shields.io/badge/collinearen-docker?logo=docker&logoColor=blue&label=docker&labelColor=gray&color=white)


![Static Badge](https://img.shields.io/badge/collinearen-redis?logo=adminer&label=REDIS&labelColor=red&color=white)

![Static Badge](https://img.shields.io/badge/collinearen-postgresql?logo=postgresql&label=postgresql&labelColor=white&color=white)

![Static Badge](https://img.shields.io/badge/collinearen-js?logo=javascript&logoColor=yellow&label=javascript&labelColor=white&color=white)

![Static Badge](https://img.shields.io/badge/collinearen-thumbnails?logo=thumbtack&logoColor=blue&label=thumbnails&labelColor=white&color=white)



# <p align="center">**Чтобы попытаться запустить это без Docker файла**</p>


# ***Установка***

### <p align="center">Вам нужно скачать проект на свой локальный компьютер</p>
```shell
git clone https://github.com/collinearen/share-this-project.git
```
### <p align="center">Далее вам нужно создать виртуальную среду в Python и активировать ее</p>
```shell
python -m venv venv
```
### <p align="center">И активировать ее</p>

```shell
source venv/bin/activate
```
### <p align="center">Введите следующие команды, чтобы обновить ***pip*** и загрузить все модули и библиотеки, которые использовались (они расположены в папке ***reqi.txt***)</p>
```shell
pip install --upgrade pip
```
```shell
pip install -r reqi.txt
```
### <p align="center">Создайте базу данных, назначьте ваши данные в файле .env</p>

```shell
python manage.py migrate
```
### <p align="center">Запуск сервера</p>
```shell
python manage.py runserver_plus --cert-file cert.crt
```
